{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Program Import Schema",
  "description": "Schema for importing program questions in bulk",
  "type": "object",
  "properties": {
    "programName": {
      "type": "string",
      "description": "Name of the program"
    },
    "subject": {
      "type": "string",
      "description": "Subject of the program (e.g., Hindi, Math, English)"
    },
    "description": {
      "type": "string",
      "description": "Program description"
    },
    "levels": {
      "type": "array",
      "description": "Array of levels with questions",
      "items": {
        "type": "object",
        "properties": {
          "levelNumber": {
            "type": "integer",
            "minimum": 1,
            "description": "Level number"
          },
          "title": {
            "type": "string",
            "description": "Level title"
          },
          "description": {
            "type": "string",
            "description": "Level description"
          },
          "timeframe": {
            "type": "integer",
            "minimum": 1,
            "description": "Duration in specified unit"
          },
          "timeframeUnit": {
            "type": "string",
            "enum": ["days", "weeks", "months"],
            "description": "Unit for timeframe"
          },
          "prerequisites": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "Array of prerequisite level numbers"
          },
          "objectives": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Learning objectives for this level"
          },
          "resources": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Resources needed for this level"
          },
          "assessmentCriteria": {
            "type": "string",
            "description": "Assessment criteria for this level"
          },
          "assessmentQuestions": {
            "type": "array",
            "description": "Assessment questions for this level",
            "items": {
              "type": "object",
              "properties": {
                "questionText": {
                  "type": "string",
                  "description": "The question text"
                },
                "questionType": {
                  "type": "string",
                  "enum": [
                    "multiple_choice",
                    "one_word_answer",
                    "verbal_evaluation"
                  ],
                  "description": "Type of question"
                },
                "options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 4,
                  "maxItems": 4,
                  "description": "Four options for multiple choice questions"
                },
                "correctOptionIndex": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 3,
                  "description": "Index of correct option (0-3) for multiple choice"
                },
                "acceptedAnswers": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Accepted answers for one word answer questions"
                },
                "points": {
                  "type": "integer",
                  "minimum": 1,
                  "default": 1,
                  "description": "Points for this question"
                },
                "isRequired": {
                  "type": "boolean",
                  "default": true,
                  "description": "Whether this question is mandatory"
                }
              },
              "required": ["questionText", "questionType"],
              "allOf": [
                {
                  "if": {
                    "properties": {
                      "questionType": {
                        "const": "multiple_choice"
                      }
                    }
                  },
                  "then": {
                    "required": ["options", "correctOptionIndex"]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "questionType": {
                        "const": "one_word_answer"
                      }
                    }
                  },
                  "then": {
                    "required": ["acceptedAnswers"]
                  }
                }
              ]
            }
          }
        },
        "required": [
          "levelNumber",
          "title",
          "description",
          "timeframe",
          "timeframeUnit"
        ]
      }
    }
  },
  "required": ["programName", "subject", "description", "levels"]
}
